<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tabs-accordion</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>

<body>
    <div class="tabs">
        <div class="tab">
            <input type="radio" id="tab-1" name="tab-group-1" checked>
            <label class="tab-label" for="tab-1">Javascript</label>
            <div class="tab-box">
                <div class="tab-content">
                    <h3>What have I worked on in Javascript?</h3>
                    <p>
                        Starting off as a pure Front End developer on vanilla Javascript ES5 and jQuery in 2010, I moved on to frameworks such as AngularJS and BackboneJS in 2013, along with libraries such as Zepto and UnderscoreJS.
                    </p>
                    <p>
                        Since then I have transitioned into a Front End and Server Side engineer, working on NodeJS, ExpressJS and frameworks such as ReactJS, in both ES5 and ES6.
                    </p>
                </div>
            </div>
        </div>
        <div class="tab">
            <input type="radio" id="tab-2" name="tab-group-1">
            <label class="tab-label" for="tab-2">CSS</label>
            <div class="tab-box">
                <div class="tab-content">
                    <h3>What has been my experience in CSS you ask?</h3>
                    <p>I started off with CSS2, and Bootstrap 1 in 2010.</p>
                    <p>Once CSS3 kicked in, I started working on it, and on Bootstrap 2. </p>
                    <p>In addition, I also worked on pre-compilers such as Sass, Less and frameworks such as Burbon and Neat, and Foundation</p>
                </div>
            </div>
        </div>
        <div class="tab">
            <input type="radio" id="tab-3" name="tab-group-1">
            <label class="tab-label" for="tab-3">HTML</label>
            <div class="tab-box">
                <div class="tab-content">
                    <h3>What about HTML markup?</h3>
                    <p>I have worked with HTML5 for the last few years, and have used most of it's features</p>
                    <p>Some of the APIs I have worked with include Semantic Tags, Storage APIs, Web Sockets and Web Workers</p>
                </div>
            </div>
        </div>
        <div class="tab">
            <input type="radio" id="tab-4" name="tab-group-1">
            <label class="tab-label" for="tab-4">Server Side</label>
            <div class="tab-box">
                <div class="tab-content">
                    <h3>What have I done on the other side?</h3>
                    <p>I started off working with NodeJS for the first time while using build tools ruch as Grunt and Gulp, with npm.</p>
                    <p>Later, I started working with NodeJS in earnest, creating API end points and after that, full ExpressJS applications. I currently work with a NodeJS/ExpressJS/BackboneJS web application, that gets ~10,000,000 unique hits a day.</p>
                </div>
            </div>
        </div>
        <div class="tab">
            <input type="radio" id="tab-5" name="tab-group-1">
            <label class="tab-label" for="tab-5">Dynamic Content</label>
            <div class="tab-box">
                <div class="tab-content">
                    <h3 class="dynamic-title"></h3>
                    <p class="dynamic-text"></p>
                    <button class="clear-ls">Clear Session</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script>
    var root = 'https://jsonplaceholder.typicode.com';
    function clearLs() {
        localStorage.removeItem('fetched');
    }
    clearLs();
    $(document).ready(function() {
        $('#tab-5 + .tab-label').on('click', function() {
            if (localStorage.getItem('fetched') !== 'true') {
                $.ajax({
                    url: root + '/posts/1',
                    method: 'GET'
                }).then(function(data) {
                    $('.dynamic-title').html(data.title);
                    $('.dynamic-text').html(data.body);
                    localStorage.setItem('fetched', 'true');
                });
            } else {
                console.log("Aborting. Data has already been fetched.")
            }
        });

        $('.clear-ls').on('click', function() {
            clearLs();
        });
    });
    </script>
</body>
<a class="back" href="./index.html">Go Back</a>

</html>
